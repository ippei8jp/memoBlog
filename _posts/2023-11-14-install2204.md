---
title: Ubuntu 22.04ã‚’Nativeç’°å¢ƒã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
date: 2023-11-14
tags: ["Ubuntu","setup"]
excerpt: Ubuntu 22.04ã‚’Nativeç’°å¢ƒã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã¨ãã®ãƒ¡ãƒ¢
layout: default
---


# Ubuntuã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
[Ubuntuã®å…¥æ‰‹](https://www.ubuntulinux.jp/download){:target="_blank"}ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰  
Secure Bootç’°å¢ƒã§æ—¥æœ¬èªRemixã®ISOãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã†ã¨``Verification failed: (0x1A) Security Violation``
ã¨æ€’ã‚‰ãŸã®ã§ã€jp.ubuntu.comã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã‹ã‚‰Ubuntu Desktopã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã€‚  
ãƒ–ãƒ¼ã‚¿ãƒ–ãƒ«USBã‚’ä½œã‚‹ã«ã¯ã€Rufusç­‰ã‚’ä½¿ã†(ã‚°ã‚°ã£ã¦ã¡ã‚‡)ã€‚  


# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
ä»¥ä¸‹ã®å‚è€ƒãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦èµ·å‹•ã™ã‚‹ã¨ã“ã¾ã§ã‚„ã£ã¦ã¡ã‚‡ã€‚  

- [Ubuntuã‚’Nativeç’°å¢ƒã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹(20.04)](https://ippei8jp.github.io/memoBlog/2021/07/15/install2004_native.html){:target="_blank"}
- [Ubuntu 22.04ã®VirtualBoxã¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://ippei8jp.github.io/memoBlog/2022/07/24/install2204.html){:target="_blank"}
- Ubuntu 22.04 ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ–ãƒ¼ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã¯ä»¥ä¸‹ã‚’å‚è€ƒ
    - [Ubuntu 22.04 LTS ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ -ã€ãƒãƒ«ãƒãƒ–ãƒ¼ãƒˆç·¨ã€‘](https://dailylife.pman-bros.com/ubuntu22_install/){:target="_blank"}

# ãŠå¥½ã¿ã§
ä½œæ¥­ä¸­ã«ç”»é¢ãŒæ¶ˆãˆã‚‹ã¨é¬±é™¶ã—ã„ã®ã§ãƒ‘ãƒ¯ãƒãƒç„¡åŠ¹åŒ–ã€‚  
TABè£œå®Œä½¿ãˆã°ã‚³ãƒ”ãƒšã™ã‚‹ã»ã©ã§ã‚‚ãªã„ã®ã§ã€æœ€åˆã«ã‚„ã£ã¨ãã€‚  

```bash
# ãƒ–ãƒ©ãƒ³ã‚¯ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ ã—ãªã„
gsettings set org.gnome.desktop.session idle-delay 0
# è‡ªå‹•ç”»é¢ãƒ­ãƒƒã‚¯ OFF
gsettings set org.gnome.desktop.screensaver lock-enabled false
```

# æœ€æ–°ç‰ˆã«update

ã¨ã‚Šã‚ãˆãšæœ€æ–°ç‰ˆã«   

```bash
sudo apt update
sudo apt upgrade
```

ã¤ã„ã§ã«sshã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã€‚  
webã§èª¿ã¹ãŸã‚³ãƒãƒ³ãƒ‰ã‚’ã‚³ãƒ”ãƒšã—ãŸã„ã®ã§ã€‚  
å‚è€ƒï¼š[ubuntuã«SSHã‚µãƒ¼ãƒã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹](https://ippei8jp.github.io/memoBlog/2021/10/11/SSH_setup.html){:target="_blank"}

- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
sudo apt install ssh
```
  - ã“ã‚Œã ã‘ã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ã¯ç¹‹ãŒã‚‹ã¯ãšã€‚  
- å…¬é–‹éµèªè¨¼ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€å…¬é–‹éµã‚’``~/.ssh/authorized_keys``ã«è¿½è¨˜ã—ã€attributeå¤‰æ›´ã€‚  
  (ã‚³ãƒ”ãƒšã§è¿½è¨˜ã—ãŸã„ã®ã§sshã§æ¥ç¶šã—ãŸã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹ã‚‰ä½œæ¥­ã™ã‚‹ã®ãŒãƒ™ã‚¿ãƒ¼)  

```bash
mkdir ~/.ssh
vi ~/.ssh/authorized_keys
### å…¬é–‹éµã‚’è¿½è¨˜ ###
chmod 600 ~/.ssh/authorized_keys
```

å¿µã®ãŸã‚ã“ã“ã§ãƒªãƒ–ãƒ¼ãƒˆã€‚  




# chromeã¨ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
å‚è€ƒï¼š [Ubuntuã«Chromeã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ‰‹é †](https://qiita.com/grgrjnjn/items/a5c4da336031b63f09a6){:target="_blank"}  
å‚è€ƒï¼š [Linux(Ubuntu)ã®ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—è¨­å®šï¼ˆGoogle Chrome ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—/xrdpï¼‰](https://zenn.dev/karaage0703/articles/cfde5e6a4f43c3){:target="_blank"}  


## ãŠã¾ã˜ãªã„
chrome ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã€ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ã§ã®ãƒ­ã‚°ã‚¤ãƒ³ãŒã§ããªããªã‚‹ã®ã§ã€
ä»¥ä¸‹ã®å‡¦ç†ã‚’è¡Œã†ã€‚

æ–°ã—ãä½¿ç”¨ã™ã‚‹``.desktop``ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ(ubuntuã‚’ãƒ™ãƒ¼ã‚¹ã«ä½¿ç”¨)  

```bash
cd /usr/share/xsessions/
sudo cp ubuntu.desktop ubuntu-local.desktop
```

ä»¥ä¸‹ã®ãƒ‘ãƒƒãƒã‚’ã‚ã¦ã‚‹ã€‚
>[!NOTE]
> ``Name``ã®å¤‰æ›´ã¨``Exec``ã«``DISPLAY=":0"``ã‚’è¿½åŠ   


```patch
--- ubuntu.desktop      2022-04-08 04:07:53.000000000 +0900
+++ ubuntu-local.desktop        2023-11-11 07:25:37.223280734 +0900
@@ -1,7 +1,7 @@
 [Desktop Entry]
-Name=Ubuntu
+Name=Ubuntu on local
 Comment=This session logs you into Ubuntu
-Exec=env GNOME_SHELL_SESSION_MODE=ubuntu /usr/bin/gnome-session --session=ubuntu
+Exec=env DISPLAY=":0" GNOME_SHELL_SESSION_MODE=ubuntu /usr/bin/gnome-session --session=ubuntu
 TryExec=/usr/bin/gnome-shell
 Type=Application
 DesktopNames=ubuntu:GNOME
```

>[!NOTE]
> ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ã§ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãã¯ãƒ¦ãƒ¼ã‚¶åé¸æŠå¾Œã€ç”»é¢å³ä¸‹ã®æ­¯è»Šã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€
> ã€ŒUbuntu on localã€ã‚’é¸æŠ(ä¸€åº¦é¸æŠã™ã‚Œã°è¨˜æ†¶ã•ã‚Œã‚‹ã®ã§2åº¦ç›®ä»¥é™ã¯ç¢ºèªã ã‘ã§OK)ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã€‚
>  (ä½œæˆã—ãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é¸æŠå¯èƒ½ã«ã™ã‚‹ã«ã¯ã€ãƒªãƒ–ãƒ¼ãƒˆãŒå¿…è¦)

## chromeã¨ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

æ‰‹é–“ã‚’çœããŸã‚ã«ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ(sshã‹ã‚‰ã§å¯)

```bash
# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„ã‚ˆã†ãŠã¾ã˜ãªã„
mkdir ~/.config/chrome-remote-desktop

# ãƒªãƒ–ãƒ¼ãƒˆæ™‚ã«æ¶ˆã›ã‚‹ã‚ˆã†ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å…ˆã«/tmpã‚’ä½¿ã†
cd /tmp

# chromeã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
# chromeã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt install ./google-chrome-stable_current_amd64.deb

# remote desktopã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
wget https://dl.google.com/linux/direct/chrome-remote-desktop_current_amd64.deb
# remote desktopã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt install ./chrome-remote-desktop_current_amd64.deb
```


>[!NOTE]
> ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ææ¡ˆ/æ¨å¥¨ã•ã‚Œã‚‹ãŒã€å…¥ã‚Œãªãã¦ã‚‚å¤§ä¸ˆå¤«ã€‚  
> ææ¡ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸:  
>   python-psutil-doc x11-xfs-utils  
> æ¨å¥¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸:  
>   xserver-xorg-video-dummy pipewire  


## chromeèµ·å‹•ã—ã¦åˆæœŸè¨­å®šï¼†Googleã«ãƒ­ã‚°ã‚¤ãƒ³
ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ã§chromeèµ·å‹•
- æ—¢å®šã®ãƒ–ãƒ©ã‚¦ã‚¶ã«ã™ã‚‹ã‹ã€éšœå®³ãƒ¬ãƒãƒ¼ãƒˆã‚’é€ä¿¡ã™ã‚‹ã‹ã‚’é¸ã‚“ã§OK
- ã€ŒChromeã‚’ç‹¬è‡ªã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã€ã§ã€Œé–‹å§‹ã™ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
    - ã‚ã¨ã¯ãŠå¥½ã¿ã§è¨­å®š
- ã€Œã‚ãªãŸã®Chromeã‚’ã„ã¤ã§ã‚‚ã©ã“ã§ã‚‚ã€ã§ã€Œç¶šè¡Œã€ã‚’ã‚¯ãƒªãƒƒã‚¯
    - chromeã¸ã®ãƒ­ã‚°ã‚¤ãƒ³ã§ä½¿ç”¨ã™ã‚‹Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³

- ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚’æ¤œç´¢ã—ã€ã€ŒChromeãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã€ã‚’é–‹ã
    - [https://remotedesktop.google.com/?hl=ja&pli=1](https://remotedesktop.google.com/?hl=ja&pli=1){:target="_blank"}
- ã€Œãƒ‘ã‚½ã‚³ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
- ã€Œãƒªãƒ¢ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹ã®è¨­å®šã€ã®ã€ŒONã«ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
- ã€Œåå‰ã®è¨­å®šã€ã§åå‰ã‚’è¨­å®šã—ã¦ã€Œæ¬¡ã¸ã€
- ã€ŒPINã®å…¥åŠ›ã€ã§è¨­å®šã™ã‚‹PINã‚’2å›å…¥åŠ›ã—ã¦ã€Œèµ·å‹•ã€
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹ã®ã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›


- ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ã§ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
>[!WARNING]
> ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸã¾ã¾ã ã¨ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãŒã¤ãªãŒã£ã¦ã‚‚ç”»é¢è¡¨ç¤ºã•ã‚Œãªã„

## Window PCå´ã‹ã‚‰æ¥ç¶š
Windows PCã§ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã€Ubuntuãƒã‚·ãƒ³ã«æ¥ç¶šã™ã‚‹  
ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®é¸æŠã§ã¯Ubunto on Xorg ã¾ãŸã¯ Ubuntuã‚’é¸æŠ(ãŸã¶ã‚“ã©ã£ã¡ã‚‚åŒã˜)

### ãŠã¾ã˜ãªã„1
æ¥ç¶šã™ã‚‹ã¨ã€ã€Œã‚«ãƒ©ãƒ¼ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã•ã‚ŒãŸãƒ‡ãƒã‚¤ã‚¹ã‚’ä½œæˆã™ã‚‹ã«ã¯èªè¨¼ãŒå¿…è¦ã§ã™ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒå‡ºã‚‹å ´åˆãŒã‚ã‚‹ã€‚  
ã“ã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥ã‚Œã¦ã‚‚ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¦ã‚‚çµæœã¯åŒã˜ã§å•é¡Œãªãæ“ä½œã§ãã‚‹ãŒã€é€ä¸€ã‚„ã‚‹ã®ã¯ã‚ã‚“ã©ã£ã¡ã„ã®ã§å‡ºãªãã™ã‚‹ã€‚  

```/etc/polkit-1/localauthority/50-local.d/45-allow.colord.pkla``` ã§ä»¥ä¸‹ã®å†…å®¹ã§ä½œæˆ
```
[Allow Colord all Users]
Identity=unix-user:*
Action=org.freedesktop.color-manager.create-device;org.freedesktop.color-manager.create-profile;org.freedesktop.color-manager.delete-device;org.freedesktop.color-manager.delete-profile;org.freedesktop.color-manager.modify-device;org.freedesktop.color-manager.modify-profile
ResultAny=no
ResultInactive=no
ResultActive=yes
```

è¨­å®šã‚’æœ‰åŠ¹ã«ã™ã‚‹ã®ã¯å†èµ·å‹•å¿…è¦ã€‚  

å‚è€ƒï¼š [Ubuntu 18.04LTSä¸Šã®XRDP](https://qastack.jp/ubuntu/1031519/xrdp-on-ubuntu-18-04lts)  


### ãŠã¾ã˜ãªã„2
æ¥ç¶šæ™‚ã€æ¯å›ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®é¸æŠã‚’ã™ã‚‹ã®ã¯é¢å€’ãªã®ã§ã€è‡ªå‹•ã§é¸æŠã§ãã‚‹ã‚ˆã†ã«ã—ã‚ˆã†ã¨ã—ãŸãŒã€  
ã“ã‚Œã‚’ã‚„ã‚‹ã¨ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ããªããªã‚‹ã®ã§ã‚„ã‚ã¦ãŠãã€‚  

>[!NOTE]
> å‚è€ƒã¾ã§ã«æ‰‹é †ã‚’è¨˜è¼‰ã—ã¦ãŠã  
> ``~/.chrome-remote-desktop-session``ã‚’ä»¥ä¸‹ã®å†…å®¹ã§ä½œæˆã™ã‚‹  
> 
> ```
> exec /etc/X11/Xsession 'env GNOME_SHELL_SESSION_MODE=ubuntu /usr/bin/gnome-session --session=ubuntu'
> ```
> envä»¥ä¸‹ã¯ä½¿ç”¨ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«åˆã‚ã›ã¦å¤‰æ›´ã™ã‚‹ã“ã¨ã€‚  
> (``/usr/share/xsessions/â‰ªã‚»ãƒƒã‚·ãƒ§ãƒ³åâ‰«.desktop``ã®``Exec``è¡Œã®å†…å®¹)


# ä½¿ã„ãã†ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ä½¿ã‚ãªã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

## gccã¨ã‹makeã¨ã‹ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

ã¾ã€ä½¿ã†ã§ã—ã‚‡ã€‚

```bash
sudo apt install build-essential
```

## è‰²ã€…ä½¿ã†ã®ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ãªã«ã‹ã¨ä½¿ã†ã®ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  

```bash
sudo apt install net-tools
sudo apt install dconf-editor
sudo apt install gnome-tweaks 
```

## ä½¿ã‚ãªã„ã®ã§ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ä½¿ã†ãƒ„ãƒ¼ãƒ«ãŒã‚ã£ãŸã‚‰æ®‹ã—ã¦ã¡ã‚‡ã€‚  

### ãƒ„ãƒ¼ãƒ«é¡
```bash
sudo apt remove thunderbird libreoffice-* simple-scan gnome-todo remmina cheese rhythmbox

# å€‹åˆ¥ã«å®Ÿè¡Œã™ã‚‹å ´åˆã¯ã“ã¡ã‚‰ã§ã©ã†ãã€‚
sudo apt remove thunderbird
sudo apt remove libreoffice-*
sudo apt remove simple-scan
sudo apt remove gnome-todo
sudo apt remove remmina
sudo apt remove cheese
sudo apt remove rhythmbox
```

### ã‚²ãƒ¼ãƒ é¡
```bash
sudo apt remove aisleriot gnome-mahjongg gnome-mines gnome-sudoku

# å€‹åˆ¥ã«å®Ÿè¡Œã™ã‚‹å ´åˆã¯ã“ã¡ã‚‰ã§ã©ã†ãã€‚
sudo apt remove aisleriot
sudo apt remove gnome-mahjongg
sudo apt remove gnome-mines
sudo apt remove gnome-sudoku
```

## è¦ã‚‰ãªããªã£ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãŠæƒé™¤
```bash
sudo apt autoremove
```

## ãŠå¥½ã¿ã§

### ãƒ•ã‚©ãƒ³ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

æœ€è¿‘ã¯[UDEVã‚´ã‚·ãƒƒã‚¯](https://github.com/yuru7/udev-gothic){:target="_blank"} ãŒãŠæ°—ã«å…¥ã‚Šãªã®ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã€‚  
ã‚‚ã¡ã‚ã‚“ã€ä»–ã®ãƒ•ã‚©ãƒ³ãƒˆã§ã‚‚ã„ã„ã‚ˆã€‚  
ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚‚ã„ã„ã‘ã©ã€ã‚ã¡ã“ã¡ãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ”ãƒ¼ã—ãŸã‚Šå‰Šé™¤ã—ãŸã‚ŠãŒé¢å€’ãªã®ã§ã€
ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã¯``/tmp``ã«çªã£è¾¼ã‚“ã§ãƒªãƒ–ãƒ¼ãƒˆæ™‚ã«ã¾ã¨ã‚ã¦æ¶ˆã—ã¦ã‚‚ã‚‰ãŠã†ã€‚  

ãƒ•ã‚©ãƒ³ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨€ã£ã¦ã‚‚ã€ttfãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…¥æ‰‹ã—ã¦``~/.fonts/``ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚³ãƒ”ã‚‹ã ã‘ã€‚  
ä¸‹ã§ã¯å…¨éƒ¨ã‚³ãƒ”ã£ã¦ã‚‹ã‘ã©ã€ã‚‚ã¡ã‚ã‚“ä½¿ã„ãŸã„ã‚‚ã®ã ã‘ã§ã‚‚OKã€‚  

```bash
pushd /tmp
wget https://github.com/yuru7/udev-gothic/releases/download/v1.0.0/UDEVGothic_v1.0.0.zip 
unzip UDEVGothic_v1.0.0.zip 
mkdir ~/.fonts
cp UDEVGothic_v1.0.0/*.ttf ~/.fonts/
popd
```

### gnome-terminalã®ãƒ•ã‚©ãƒ³ãƒˆã®å¤‰æ›´

ã§ã€å…¥æ‰‹ã—ãŸãƒ•ã‚©ãƒ³ãƒˆã‚’ç«¯æœ«ã®ãƒ•ã‚©ãƒ³ãƒˆã«è¨­å®šã—ã¦ãŠã“ã†ã€‚  
ã•ã£ããƒ•ã‚©ãƒ³ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ä½¿ã£ãŸç«¯æœ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½¿ã†ã¨
ã‚¨ãƒ©ãƒ¼ã§ç«¯æœ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒè½ã¡ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã‚“ã§ä¸€æ—¦çµ‚äº†ã—ã¦æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã€‚  

ç«¯æœ«ã‚’èµ·å‹•ã—ã€å³ä¸Šã®ã€Œâ‰¡ã€â†’ã€Œè¨­å®šã€ã‚’é¸æŠ
ä½¿ç”¨ä¸­ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«(æœ€åˆã®ã¯ã€Œåå‰ãªã—ã€)ã‚’é¸æŠã—ã€  
ã€Œãƒ•ã‚©ãƒ³ãƒˆã‚’æŒ‡å®šã€ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã€ãã®å³å´ã§ãƒ•ã‚©ãƒ³ãƒˆã‚’é¸ã¶  
ã•ã£ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã€ŒUDEV Gothic JPDOCã€ã‚’é¸ã‚“ã§ã‚µã‚¤ã‚ºã‚’æŒ‡å®šã€‚  
ã¤ã„ã§ã«èµ·å‹•æ™‚ã®ç«¯æœ«ã‚µã‚¤ã‚ºã‚‚ä¿®æ­£ã—ã¦ãŠãã¨ã‚ˆã„  
çµ‚ã‚ã£ãŸã‚‰Ã—ã§çµ‚äº†ã€‚  

# ãã®ä»–è¨­å®š

## ä½œæ¥­ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆ

ã‚‚ã¡ã‚ã‚“ã€ä½¿ã†ã‚‚ã®ã ã‘ã§OKã€‚  

```bash
sudo mkdir /proj /work /NFSROOT
sudo chown $USER:$USER  /proj /work* /NFSROOT
```

## ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆshellã‚’bashã«å¤‰æ›´

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®shãŒdashãªã®ã¯ãªã‚“ã¨ãªãã‚¤ãƒ¤ãªã®ã§ã€‚  

```bash
pushd /bin
sudo ln -sf bash sh
popd
```

### bashã®è¨­å®šå¤‰æ›´

~/.bashrcã«ä»¥ä¸‹ã‚’è¿½è¨˜ã€‚  
ã‚‚ã¡ã‚ã‚“ãŠå¥½ã¿ã§ã€‚  
ã€Œ# for pyenvã€ä»¥é™ã¯ãã‚Œãã‚Œã®ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã¨ãç”¨ãªã®ã§ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªã„ãªã‚‰ãªãã¦å¯ã€‚  

```bash
# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®è¨­å®š
PS1="\w\$ "

# ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã®è¨­å®š
bind '"\C-n": history-search-forward'
bind '"\C-p": history-search-backward'

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚¹ã‚¿ãƒƒã‚¯ã®è¡¨ç¤ºæ”¹å–„
function pushd() {
    command pushd $* > /dev/null
    command dirs -v
}
function popd() {
    command popd $* > /dev/null
    command dirs -v
}
function dirs() {
    command dirs -v
}

# è¡¨ç¤ºè‰²å¤‰æ›´
export LS_COLORS='di=01;32:ln=01;36:ex=01;31:'
export GREP_COLORS='mt=01;31:ml=:cx=:fn=01;32:ln=32:bn=32:se=36'

# lessã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³
export LESS="-iMR"

# x11ã‹ã‚‰ã®ãƒ­ã‚°ã‚¤ãƒ³ä»¥å¤–ãªã‚‰DISPLAYã‚’è¨­å®šã™ã‚‹
# Ubuntu22.04ã ã¨waylandã«ãªã‚‹ã‚‰ã—ã„
if [ "$XDG_SESSION_TYPE" != "x11" ] && [ "$XDG_SESSION_TYPE" != "wayland" ]; then
    export DISPLAY=192.168.78.200:0.0
fi
echo DISPLAY="$DISPLAY"

# for pyenv
export PYENV_ROOT=/proj/.pyenv    #ç’°å¢ƒã«åˆã‚ã›ã¦ä¿®æ­£ã—ã¦ã­
if [ -e $PYENV_ROOT ]; then
    export PATH=$PYENV_ROOT/bin:$PATH
    # ä»®æƒ³ç’°å¢ƒåã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è¡¨ç¤ºã—ãªã„å ´åˆã¯ä»¥ä¸‹ã‚’æœ‰åŠ¹åŒ–
    # export VIRTUAL_ENV_DISABLE_PROMPT=1
    eval "$(pyenv init --path)"          # pyenv 2.0ä»¥é™ã§å¿…è¦
    eval "$(pyenv init -)"
    eval "$(pyenv virtualenv-init -)"
    export PYTHON_CONFIGURE_OPTS="\
     --enable-shared\
    "
fi

# for nodenv
export NODENV_ROOT=/proj/.nodenv    # ç’°å¢ƒã«åˆã‚ã›ã¦ä¿®æ­£ã—ã¦ã­
if [ -e $NODENV_ROOT ]; then
    export PATH=$NODENV_ROOT/bin:$PATH
    eval "$(nodenv init -)"
fi


# direnv è¨­å®š
if type direnv > /dev/null 2>&1; then
    export EDITOR=vi
    eval "$(direnv hook bash)"
    
    # # venvã®ä»®æƒ³ç’°å¢ƒåã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®è¨­å®š
    # show_virtual_env() {
    #   if [ -n "$VIRTUAL_ENV" ]; then
    #     echo "($(basename $VIRTUAL_ENV))"
    #   fi
    # }
    # PS1='$(show_virtual_env)'$PS1
fi
```

### ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒå‹æ‰‹ã«æœ€å¤§åŒ–ã™ã‚‹ã®ã‚’ã‚„ã‚ã‚‹
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ç„¡åŠ¹åŒ–ã§ãã‚‹
```bash
gsettings set org.gnome.mutter auto-maximize false
gsettings set org.gnome.mutter edge-tiling false
```

### ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«ãƒã‚¦ã‚¹ã‚’ä¹—ã›ã‚‹ã¨ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§è¨­å®šã§ãã‚‹
```bash
gsettings set org.gnome.desktop.wm.preferences auto-raise false
gsettings set org.gnome.desktop.wm.preferences focus-mode mouse
gsettings set org.gnome.desktop.wm.preferences raise-on-click true
```

>[!NOTE]
> focus-mode ã®è¨­å®šå€¤ mouse ã¨ sloppy ã®é•ã„  
> mouse ã¯ ãƒã‚¦ã‚¹ã‚«ãƒ¼ã‚½ãƒ«ã‚’ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‹ã‚‰ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«ç§»ã™ã¨ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒã¯ãšã‚Œã‚‹ã€‚  
> sloppy ã¯ ãƒã‚¦ã‚¹ã‚«ãƒ¼ã‚½ãƒ«ã‚’ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‹ã‚‰ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«ç§»ã—ã¦ã‚‚ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã•ã‚ŒãŸã¾ã¾ã€‚  

### ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‹ã‚‰ã‚´ãƒŸç®±ã¨ãƒ›ãƒ¼ãƒ ã‚’æ¶ˆã™
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§è¨­å®šã§ãã‚‹  
Ubuntu20.04ã¨ã¡ã‚‡ã£ã¨ã‚­ãƒ¼ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‹  
ã‚´ãƒŸç®±ã¯æœ€åˆã‹ã‚‰è¡¨ç¤ºã•ã‚Œã¦ãªã„ã‘ã©...ã¾ã€ã¤ã„ã§ã«æ›¸ã„ã¨ãã€‚  
è¡¨ç¤ºã—ãŸã‘ã‚Œã°ã€è¨­å®šå€¤ã‚’trueã«ã™ã‚Œã°è‰¯ã„ã€‚  

```bash
gsettings set org.gnome.shell.extensions.ding show-home false 
gsettings set org.gnome.shell.extensions.ding show-trash false 
```

### Dockã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
ãªã‚“ã¨ãªãä½¿ã„ã«ãã„ã®ã§å¥½ã¿ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã«å¤‰æ›´ã€‚  
```bash
#ã‚´ãƒŸç®±å‰Šé™¤
gsettings set org.gnome.shell.extensions.dash-to-dock show-trash false

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’Dockãƒãƒ¼ã®ä¸Š(ã¾ãŸã¯å·¦)ã«è¡¨ç¤º
gsettings set org.gnome.shell.extensions.dash-to-dock show-apps-at-top true

# Dockãƒãƒ¼ã‚’ç”»é¢ä¸‹ã«è¡¨ç¤º
gsettings set org.gnome.shell.extensions.dash-to-dock dock-position BOTTOM

# ã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚ºã®å¤‰æ›´
gsettings set org.gnome.shell.extensions.dash-to-dock dash-max-icon-size 16
```

### ãƒã‚¦ã‚¹ã‚«ãƒ¼ã‚½ãƒ«ã‚’å¤§ããã™ã‚‹

ãƒã‚¦ã‚¹ã‚«ãƒ¼ã‚½ãƒ«å°ã•ãã¦è¦‹å¤±ã†äººã¯å¤§ããã—ã¾ã—ã‚‡ã†ã€‚  
æœ€å¾Œã®æ•°å­—ãŒã‚«ãƒ¼ã‚½ãƒ«ã®å¤§ãã•ãªã®ã§ã€ãŠå¥½ã¿ã®ã‚µã‚¤ã‚ºã§ã€‚  

```bash
gsettings set org.gnome.desktop.interface cursor-size 48
```

ã¾ãŸã¯ã€Œè¨­å®šã€â†’ã€Œãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã€â†’ã€Œã‚«ãƒ¼ã‚½ãƒ«ã®å¤§ãã•ã€ã§é¸æŠ

### ãƒ•ã‚¡ã‚¤ãƒ«(nautilus)ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œå¤‰æ›´

ãƒ•ã‚¡ã‚¤ãƒ«(nautilus)ã®è¨­å®šã‚’ãŠå¥½ã¿ã«åˆã‚ã›ã¦ã€‚  
ãƒ•ã‚¡ã‚¤ãƒ«(nautilus)ã¯ã™ã¹ã¦çµ‚äº†ã—ã¦ãŠã„ãŸæ–¹ãŒç„¡é›£ã€‚  

```bash
# ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’ãƒ†ã‚­ã‚¹ãƒˆå½¢å¼ã«ã™ã‚‹
gsettings set org.gnome.nautilus.preferences always-use-location-entry true 

# è©³ç´°è¡¨ç¤ºã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«
gsettings set org.gnome.nautilus.preferences default-folder-viewer 'list-view' 

# éš ã—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤ºã™ã‚‹
# éš ã—ãƒ•ã‚¡ã‚¤ãƒ«ã®è¡¨ç¤ºã¯ã¡ã‚‡ã£ã¨å ´æ‰€ãŒé•ã†
gsettings set org.gtk.Settings.FileChooser show-hidden true

```

### ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®è‡ªå‹•æ›´æ–°ã®ç„¡åŠ¹åŒ–  

è‡ªåˆ†ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã‚½ãƒ•ãƒˆã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒã§ããªã„ã®ãŒã‚¹ãƒˆãƒ¬ã‚¹ãªã®ã§ã€ä»¥ä¸‹ã§è‡ªå‹•ç¢ºèªã‚’åœæ­¢ã€‚  
ã‚‚ã¡ã‚ã‚“ã€**é©æ™‚æ‰‹å‹•ã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹ã®ã‚’å¿˜ã‚Œãšã«**ã€‚  

- ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®æ›´æ–°(update-manager)ã‚’èµ·å‹•
  - æ›´æ–°ã®ãƒã‚§ãƒƒã‚¯ãŒå§‹ã¾ã£ãŸå ´åˆã¯ã¡ã‚‡ã£ã¨å¾…ã¤
  - è¨­å®š...ã‚’ã‚¯ãƒªãƒƒã‚¯
    - ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚¿ãƒ–ã‚’é¸æŠ
    - ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®è‡ªå‹•ç¢ºèªã‚’ã€Œãªã—ã€ã«å¤‰æ›´
    - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒã‚ã‚‹ã¨ãã‚’ã€Œã™ãã«è¡¨ç¤ºã€ã«å¤‰æ›´
    - Ubuntuã®æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®é€šçŸ¥ã‚’ã€Œãªã—ã€ã«å¤‰æ›´
    - é–‰ã˜ã‚‹ã‚’ã‚¯ãƒªãƒƒã‚¯
  - OKã§çµ‚äº†


### CTRLã‚­ãƒ¼ã¨CAPSã‚­ãƒ¼ã‚’å…¥ã‚Œæ›¿ãˆã‚‹

Chromeãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç’°å¢ƒã§ã¯Windowsã§è¨­å®šã—ãŸã®ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã®ã§å¿…è¦ãªã„ãŒã€
ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ã§ä½¿ç”¨ã™ã‚‹å ´åˆã«å‚™ãˆã¦å…¥ã‚Œæ›¿ãˆã‚’è¨­å®šã—ã¦ãŠãã€‚  
æ–¹æ³•ã¯ã€``/etc/default/keyboard`` ã« ``XKBOPTIONS="ctrl:nocaps" `` ã‚’è¿½åŠ ã€‚  
è¨­å®šã‚’æœ‰åŠ¹ã«ã™ã‚‹ã«ã¯ãƒªãƒ–ãƒ¼ãƒˆå¿…è¦ã€‚  

å‚è€ƒï¼š[ã€Ubuntu 20.04/18.04 LTSã€‘CapsLockã¨Controlã‚­ãƒ¼ã‚’å…¥ã‚Œæ›¿ãˆã‚‹ ](https://www.yokoweb.net/2019/08/07/ubuntu-18_04-desktop-caps-ctrl/){:target="_blank"}  
ãƒªãƒ³ã‚¯å…ˆã¯ã€ŒUbuntu 20.04/18.04 LTSã€ã¨ãªã£ã¦ã„ã‚‹ãŒã€Ubuntu22.04ã§ã‚‚åŒã˜ã‚‰ã—ã„ã€‚  

### bashã®ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®æŒ™å‹•ãŒä»¥å‰ã¨ç•°ãªã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§å¯¾ç­–

bashã§ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰ãƒšãƒ¼ã‚¹ãƒˆã™ã‚‹ã¨ãƒšãƒ¼ã‚¹ãƒˆã—ãŸæ–‡å­—ãŒé¸æŠçŠ¶æ…‹ã«ãªã£ãŸã‚Šã€æ”¹è¡ŒãŒãã®å ´ã§å…¥åŠ›ã•ã‚Œãªã‹ã£ãŸã‚Šã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚  
ã“ã‚Œã°bash 5.1ã‹ã‚‰ãƒ–ãƒ©ã‚±ãƒƒãƒˆãƒšãƒ¼ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ ã¨ã„ã†ã®ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹ã«ãªã£ãŸãŸã‚ã‚‰ã—ã„ã€‚  
(ä½™è¨ˆãªã“ã¨ã‚’ã—ã¦ãã‚Œã‚‹...ğŸ˜©ğŸ’¨)  
ã“ã‚Œã‚’å›é¿ã™ã‚‹ã«ã¯``/etc/inputrc``ã®æœ€å¾Œã«ä»¥ä¸‹ã‚’è¿½è¨˜ã™ã‚‹ã€‚  
```
# disable bracked-paste mode
set enable-bracketed-paste off
```
èµ·å‹•æ¸ˆã¿ã®bashã«ã¯åŠ¹ã‹ãªã„ãŒã€è¨­å®šä»¥é™ã«èµ·å‹•ã—ãŸbashã§ã¯æœ‰åŠ¹ã«ãªã‚‹(ã‚·ã‚¹ãƒ†ãƒ ã®å†èµ·å‹•ã¯ä¸è¦)ã€‚  


å‚è€ƒï¼š [ã‚·ã‚§ãƒ« - bash - ãƒ–ãƒ©ã‚±ãƒƒãƒˆãƒšãƒ¼ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ï¼ˆBracketed Paste Modeï¼‰](https://freebsd.sing.ne.jp/shell/03/04.html){:target="_blank"}  

### IPv6ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹

IPv6å‹•ã„ã¦ã„ã¦ä½•åº¦ã‹ãƒãƒã£ãŸã®ã§ç„¡åŠ¹åŒ–ã—ã¦ãŠãã€‚  
sysctrlã§ç„¡åŠ¹åŒ–ã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚‹ã‘ã©ã€ã¡ã‚‡ã£ã¨æ‰‹é †ãŒé¢å€’ãªã®ã§ã€èµ·å‹•ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ç„¡åŠ¹åŒ–ã—ã¦ã—ã¾ãŠã†ã€‚  

å‚è€ƒï¼š[Ubuntu 20.04 LTS Focal Fossaã§IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç„¡åŠ¹ã«ã™ã‚‹æ–¹æ³•](https://goto-linux.com/ja/2019/11/24/ubuntu-20.04-lts-focal-fossa%E3%81%A6ipv6%E3%82%A2%E3%83%88%E3%83%AC%E3%82%B9%E3%82%92%E7%84%A1%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95/){:target="_blank"}

/etc/default/grubã®ä»¥ä¸‹ã®éƒ¨åˆ†(10è¡Œç›®ã‚ãŸã‚Š)ã«``ipv6.disable=1``ã‚’è¿½åŠ   

å…ƒã‹ã‚‰è¨­å®šã•ã‚Œã¦ã„ã‚‹"quiet splash"ã‚’å‰Šé™¤ã™ã‚Œã°èµ·å‹•æ™‚ã®ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãŒè¡¨ç¤ºã•ã‚Œãšã€ãƒ–ãƒ¼ãƒˆã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã§ã€ãŠå¥½ã¿ã§ã€‚
```bash
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"
â†“
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash ipv6.disable=1"
# ã¾ãŸã¯ã€ãƒ–ãƒ¼ãƒˆã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ãŸã„å ´åˆã¯ä»¥ä¸‹ã€‚
# GRUB_CMDLINE_LINUX_DEFAULT="ipv6.disable=1"

```

ã“ã‚Œã ã‘ã ã¨ã¾ã è¨­å®šæœ‰åŠ¹ã«ãªã‚‰ãªã„ã€‚  
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§grubãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®æ›´æ–°ã‚’è¡Œã†ã€‚  

```bash
sudo update-grub
```

ãƒªãƒ–ãƒ¼ãƒˆã™ã‚‹

ãƒªãƒ–ãƒ¼ãƒˆå¾Œã€``ip address``ã¨ã‹``ifconfig``ã§IPv6ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèªã€‚  

# sambaã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ãƒ„ãƒ¼ãƒ«æœ¬ä½“ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  

```bash
sudo apt install samba
```

/etc/samba/smb.conf ã«ä»¥ä¸‹ã‚’è¿½åŠ   
ä½œã‚‰ãªã‹ã£ãŸãƒ¯ãƒ¼ã‚¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®éƒ¨åˆ†ã¯å‰Šé™¤ã—ã¦ã­ã€‚  
ä»–ã«ã‚‚å…±æœ‰ã—ãŸã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒã‚ã£ãŸã‚‰è¿½åŠ ã—ã¦ã¡ã‚‡ã€‚  

``force group``ã«è¨­å®šã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ã¯å­˜åœ¨ã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—(ã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶)åã«å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚  

ã“ã“ã§ã¯ã¡ã‚‡ã£ã¨è¦‹ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã£ãŸã®ã§optã‚‚å…±æœ‰ã—ã¦ã¾ã™ã€‚  

```
[proj]
path = /proj
guest ok = no
writable = yes
map archive = no
share modes = yes
dos filetimes = yes
force group = yas
force create mode = 0664
force directory mode = 0665

[work]
path = /work
guest ok = no
writable = yes
map archive = no
share modes = yes
dos filetimes = yes
force group = yas
force create mode = 0664
force directory mode = 0665

[NFSROOT]
path = /NFSROOT
guest ok = no
writable = yes
map archive = no
share modes = yes
dos filetimes = yes
force group = yas
force create mode = 0664
force directory mode = 0665

[opt]
path = /opt
guest ok = no
writable = yes
map archive = no
share modes = yes
dos filetimes = yes
force group = yas
force create mode = 0664
force directory mode = 0665

[homes]
   comment = Home Directories
   browseable = no

# By default, the home directories are exported read-only. Change the
# next parameter to 'no' if you want to be able to write to them.
;   read only = yes
    read only = no

# File creation mask is set to 0700 for security reasons. If you want to
# create files with group=rw permissions, set next parameter to 0775.
;   create mask = 0700
    create mask = 0665

# Directory creation mask is set to 0700 for security reasons. If you want to
# create dirs. with group=rw permissions, set next parameter to 0775.
;   directory mask = 0700
    directory mask = 0775

# By default, \\server\username shares can be connected to by anyone
# with access to the samba server.
# Un-comment the following parameter to make sure that only "username"
# can connect to \\server\username
# This might need tweaking when using external authentication schemes
   valid users = %S
```

ãƒ¦ãƒ¼ã‚¶ã®è¿½åŠ ã¨å†èµ·å‹•
```bash
sudo smbpasswd -a $USER
sudo service smbd reload
sudo service smbd restart
```

# NFSã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
åˆ¥ã®Ubuntuãƒã‚·ãƒ³ã¨ã‹ã€RasberryPiã¨ãƒ•ã‚¡ã‚¤ãƒ«å…±æœ‰ã—ãŸã„ã¨ãã«å‚™ãˆã¦è¨­å®šã—ã¦ãŠãã€‚  

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
sudo apt install nfs-kernel-server
```

``/etc/exports``ã«ä»¥ä¸‹ã‚’è¿½åŠ 
```
/NFSROOT 192.168.0.0/255.255.0.0(rw,sync,no_root_squash)
```
>[!NOTE]
> ã‚‚ã¡ã‚ã‚“ã€192.168.*.*ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸNICãŒæœ‰åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚  
> ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®NATã ã‘ã˜ã‚ƒãƒ€ãƒ¡ã‚ˆï½ã€‚  
> VirtualBoxã®è¨­å®šã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ€ãƒ—ã‚¿ã§ãƒ›ã‚¹ãƒˆã‚ªãƒ³ãƒªãƒ¼ã‚¢ãƒ€ãƒ—ã‚¿ã‚’å‰²ã‚Šå½“ã¦ã¦ãŠã‘ã°ã€
> åŒä¸€ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ä¸Šã®ä»–ã®ä»®æƒ³ãƒã‚·ãƒ³ã¨é€šä¿¡ã§ãã‚‹ã€‚  
> VirtualBoxã®è¨­å®šã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ€ãƒ—ã‚¿ã§ãƒ–ãƒªãƒƒã‚¸ã‚¢ãƒ€ãƒ—ã‚¿ã‚’å‰²ã‚Šå½“ã¦ã¦ãŠã‘ã°
> RaspberryPiç­‰ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³å¤–ã®ãƒã‚·ãƒ³ã¨ã‚‚é€šä¿¡ã§ãã‚‹ã€‚  
> ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ€ãƒ—ã‚¿ã¯4ã¤ã¾ã§è¨­å®šã§ãã‚‹ã®ã§ã€ä¸¡æ–¹æœ‰åŠ¹åŒ–ã—ã¦ãŠãã“ã¨ã‚‚å¯ã€‚  


å†èµ·å‹•
```bash
sudo /etc/init.d/nfs-kernel-server restart
```

exportã§ãã¦ã„ã‚‹ã‹ç¢ºèª  
```bash
sudo exportfs 
```

åˆ¥ã®ãƒã‚·ãƒ³ã‹ã‚‰ãƒã‚¦ãƒ³ãƒˆã§ãã‚‹ã‹ç¢ºèª   
IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¯``ip address``ã¨ã‹``ifconfig``ã§èª¿ã¹ã¦ã¡ã‚‡ã€‚  
```bash
mkdir abc
sudo mount 192.168.56.101:/NFSROOT abc/
# abcã®ä¸‹ã«ãƒªãƒ¢ãƒ¼ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ãˆãŸã‚‰OK
```

# pyenvã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«


## æº–å‚™

### å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚  

```bash
sudo apt install -y make build-essential libssl-dev zlib1g-dev libbz2-dev \
libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev \
xz-utils tk-dev libffi-dev liblzma-dev python3-openssl git
```

### bluetoothã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
bluetoothã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ä»¥ä¸‹ã‚‚å¿…è¦
```bash
sudo apt install libbluetooth-dev libglib2.0-dev libboost-python-dev libboost-thread-dev
```


## ~/.bashrcã®ç·¨é›†

pyenvã®è¨­å®šã®ãŸã‚ã€~/.bashrc ã«ä»¥ä¸‹ã‚’è¿½åŠ ã€‚   
(ä¸Šè¨˜æ‰‹é †ã§è¨˜è¼‰æ¸ˆã¿ã€‚å¿µã®ãŸã‚å†æ²ã—ã¦ãŠã)  


```bash
# for pyenv
export PYENV_ROOT=/proj/.pyenv    #ç’°å¢ƒã«åˆã‚ã›ã¦ä¿®æ­£ã—ã¦ã­
if [ -e $PYENV_ROOT ]; then
    export PATH=$PYENV_ROOT/bin:$PATH
    # ä»®æƒ³ç’°å¢ƒåã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è¡¨ç¤ºã—ãªã„å ´åˆã¯ä»¥ä¸‹ã‚’æœ‰åŠ¹åŒ–
    # export VIRTUAL_ENV_DISABLE_PROMPT=1
    eval "$(pyenv init --path)"          # pyenv 2.0ä»¥é™ã§å¿…è¦
    eval "$(pyenv init -)"
    eval "$(pyenv virtualenv-init -)"
    export PYTHON_CONFIGURE_OPTS="\
     --enable-shared\
    "
fi
```


## sudoã§pyenvç’°å¢ƒã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«è¨­å®šã™ã‚‹

``sudo``ã§pythonã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€pyenvã®è¨­å®šã«é–¢ä¿‚ãªãsystemã®pythonãŒå®Ÿè¡Œã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚  
ã“ã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€``/etc/sudoers``ã®``Defaults secure_path``ã«ä»¥ä¸‹ã®pathã‚’è¿½åŠ ã—ã¾ã™ã€‚  

- Â«pyenvã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆÂ»/plugins/pyenv-virtualenv/shims:
- Â«pyenvã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆÂ»shims:
- Â«pyenvã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆÂ»/bin:

å…·ä½“çš„ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚  
```
# å¤‰æ›´å‰
Defaults  secure_path="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
    â†“
# å¤‰æ›´å¾Œ
Defaults  secure_path="/proj/.pyenv/plugins/pyenv-virtualenv/shims:/proj/.pyenv/shims:/proj/.pyenv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
```
- 

## pythonã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ä»¥é™

å‚è€ƒï¼š [pyenvã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](http://localhost:4000/2019/06/27/pyenv.html){:target="_blank"}











